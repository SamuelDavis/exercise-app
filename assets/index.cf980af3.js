var e=Object.defineProperty,t=Object.defineProperties,n=Object.getOwnPropertyDescriptors,i=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,a=(t,n,i)=>n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[n]=i,o=(e,t)=>{for(var n in t||(t={}))l.call(t,n)&&a(e,n,t[n]);if(i)for(var n of i(t))s.call(t,n)&&a(e,n,t[n]);return e},r=(e,i)=>t(e,n(i));import{S as m,i as u,s as p,a as d,e as c,b as f,c as $,d as h,f as g,g as v,h as x,j as y,k as w,l as b,m as j,n as k,o as _,p as S,w as D,q as O,r as T,t as q,u as C,v as E,x as M,y as L,z as I,A,B as P,C as R,D as N,E as B,F as J,G as z,H,I as U,J as W,K as F,L as G,M as K,N as Q,O as V,P as X,Q as Y,R as Z}from"./vendor.f6a234b7.js";function ee(e,t,n){const i=e.slice();return i[0]=t[n],i}function te(e){var t;let n,i=null!=(t=e[3])?t:[],l=[];for(let s=0;s<i.length;s+=1)l[s]=ne(ee(e,i,s));return{c(){n=c("datalist");for(let e=0;e<l.length;e+=1)l[e].c();f(n,"id",e[6])},m(e,t){$(e,n,t);for(let i=0;i<l.length;i+=1)l[i].m(n,null)},p(e,t){var s;if(8&t){let a;for(i=null!=(s=e[3])?s:[],a=0;a<i.length;a+=1){const s=ee(e,i,a);l[a]?l[a].p(s,t):(l[a]=ne(s),l[a].c(),l[a].m(n,null))}for(;a<l.length;a+=1)l[a].d(1);l.length=i.length}64&t&&f(n,"id",e[6])},d(e){e&&h(n),g(l,e)}}}function ne(e){let t,n;return{c(){t=c("option"),t.__value=n=e[0],t.value=t.__value},m(e,n){$(e,t,n)},p(e,i){8&i&&n!==(n=e[0])&&(t.__value=n,t.value=t.__value)},d(e){e&&h(t)}}}function ie(e){let t,n,i,l,s,a=[{type:"text"},{pattern:e[2]},{id:e[1]},{list:e[6]},e[7]],o={};for(let m=0;m<a.length;m+=1)o=d(o,a[m]);let r=e[3]&&te(e);return{c(){t=c("input"),n=v(),r&&r.c(),i=x(),y(t,o)},m(a,o){$(a,t,o),t.autofocus&&t.focus(),e[11](t),w(t,e[4]),$(a,n,o),r&&r.m(a,o),$(a,i,o),l||(s=b(t,"input",e[12]),l=!0)},p(e,[n]){y(t,o=j(a,[{type:"text"},4&n&&{pattern:e[2]},2&n&&{id:e[1]},64&n&&{list:e[6]},128&n&&e[7]])),16&n&&t.value!==e[4]&&w(t,e[4]),e[3]?r?r.p(e,n):(r=te(e),r.c(),r.m(i.parentNode,i)):r&&(r.d(1),r=null)},i:k,o:k,d(a){a&&h(t),e[11](null),a&&h(n),r&&r.d(a),a&&h(i),l=!1,s()}}}function le(e,t,n){let i,l;var s;let a,o,{id:r}=t,{value:m=null}=t,{pattern:u=null}=t,{options:p=null}=t,c=null!=m?m:"";return e.$$set=e=>{n(7,t=d(d({},t),_(e))),"id"in e&&n(1,r=e.id),"value"in e&&n(0,m=e.value),"pattern"in e&&n(2,u=e.pattern),"options"in e&&n(3,p=e.options)},e.$$.update=()=>{if(n(6,i=p?null!==n(8,s=t.list)&&void 0!==s?s:`${r}-suggestions`:null),4&e.$$.dirty&&n(10,l=new RegExp(null!=u?u:".")),1584&e.$$.dirty){const e=null==a?void 0:a.selectionStart,t=null==a?void 0:a.selectionEnd;n(4,c=c.replaceAll(/\s+/g," ").split("").filter((e=>l.test(e))).join("")),n(0,m=c),clearTimeout(o),n(9,o=setTimeout((()=>null==a?void 0:a.setSelectionRange(e,t))))}},t=_(t),[m,r,u,p,c,a,i,t,s,o,l,function(e){S[e?"unshift":"push"]((()=>{a=e,n(5,a)}))},function(){c=this.value,n(4,c),n(5,a),n(10,l),n(9,o),n(2,u)}]}class se extends m{constructor(e){super(),u(this,e,le,ie,p,{id:1,value:0,pattern:2,options:3})}}function ae(e=new Date){return new Date(e.getTime()-6e4*e.getTimezoneOffset()).toISOString().slice(0,-5)}function oe(e){if(e.length<2)return{timestamp:"",aria:"no time elapsed",elapsed:"00:00"};let t=e[0].getTime();if(!e.every((e=>{const n=e.getTime();return!(n<t)&&(t=n,!0)})))return{timestamp:`timestamps disordered after ${new Date(t).toLocaleString()}`,aria:"timestamps disordered",elapsed:"00:00"};const n=e[0],i=e[e.length-1],l=e.reduce(((e,t,n)=>n%2==0?e-t.getTime():e+t.getTime()),0),s=Math.floor(l/1e3),a=Math.floor(s/60),o=s%60;return{timestamp:`${n.toLocaleString()} to ${i.toLocaleTimeString()}`,aria:`${a} minutes and ${o} seconds elapsed`,elapsed:[a,o].map((e=>`0${e}`.slice(-2))).join(":")}}function re(e,t){const n=e?new Date(e):new Date,i=t?new Date(t):new Date;return n.getTime()-i.getTime()}const me=D(JSON.parse(localStorage.getItem("sets")||"[]").map((e=>{var t=e,{timestamps:n}=t,a=((e,t)=>{var n={};for(var a in e)l.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&i)for(var a of i(e))t.indexOf(a)<0&&s.call(e,a)&&(n[a]=e[a]);return n})(t,["timestamps"]);return r(o({},a),{timestamps:n.map((e=>ae(new Date(e))))})})));me.subscribe((function(e){localStorage.setItem("sets",JSON.stringify(e.map((e=>r(o({},e),{timestamps:e.timestamps.map((e=>new Date(e).getTime()))})))))}));const ue=O([me],(([e])=>e.reduce(((e,t)=>e.includes(t.exercise)?e:e.concat(t.exercise)),[]))),pe=O([me],(([e])=>{const t=new Set,n={};for(const{exercise:i,modality:l}of e){if(!i||!l)continue;const e=i.toLowerCase();t.add(l),e in n||(n[e]=new Set),n[e].add(l)}return new Proxy({},{get(e,i){var l;return i=i.toLowerCase().replaceAll(/\s/g," ").trim(),Array.from(null!=(l=n[i])?l:t)}})})),de=O([me],(([e])=>function(t,n){const i=new Set;i.add(n);for(const l of e)i.add(l[t]);return Array.from(i)}));function ce(e,t,n){const i=e.slice();return i[20]=t[n][0],i[21]=t[n][1],i[22]=t,i[23]=n,i}function fe(e,t,n){const i=e.slice();return i[24]=t[n],i}function $e(e,t,n){const i=e.slice();return i[24]=t[n],i}function he(e){let t,n;return{c(){t=c("option"),t.__value=n=e[24],t.value=t.__value},m(e,n){$(e,t,n)},p(e,i){129&i&&n!==(n=e[24])&&(t.__value=n,t.value=t.__value)},d(e){e&&h(t)}}}function ge(e){let t,n;return{c(){t=c("option"),t.__value=n=e[24],t.value=t.__value},m(e,n){$(e,t,n)},p(e,i){129&i&&n!==(n=e[24])&&(t.__value=n,t.value=t.__value)},d(e){e&&h(t)}}}function ve(e){let t,n,i;return{c(){t=c("input"),t.readOnly=!0,f(t,"type","datetime-local"),f(t,"step","1"),f(t,"class","svelte-j1jt2l")},m(l,s){$(l,t,s),w(t,e[1]),n||(i=b(t,"input",e[19]),n=!0)},p(e,n){2&n&&w(t,e[1])},d(e){e&&h(t),n=!1,i()}}}function xe(e){let t,n,i;function l(){e[18].call(t,e[21])}return{c(){t=c("input"),f(t,"type","datetime-local"),f(t,"step","1"),f(t,"class","svelte-j1jt2l")},m(s,a){$(s,t,a),w(t,e[0].timestamps[e[21]]),n||(i=b(t,"input",l),n=!0)},p(n,i){e=n,17&i&&w(t,e[0].timestamps[e[21]])},d(e){e&&h(t),n=!1,i()}}}function ye(e,t){let n,i,l,s,a,o,r,m;function u(){t[17].call(i,t[20])}function p(e,t){return e[21]in e[0].timestamps?xe:ve}let d=p(t),g=d(t);return{key:e,first:null,c(){var e,r;n=c("li"),i=c("input"),l=v(),g.c(),s=v(),a=c("button"),a.textContent="×",o=v(),f(i,"type","datetime-local"),f(i,"step","1"),f(i,"class","svelte-j1jt2l"),f(a,"type","button"),f(n,"class","svelte-j1jt2l"),q(n,"danger",re(null!=(e=t[0].timestamps[t[21]])?e:t[1],null!=(r=t[0].timestamps[t[20]])?r:t[1])<2e3),this.first=n},m(e,p){$(e,n,p),C(n,i),w(i,t[0].timestamps[t[20]]),C(n,l),g.m(n,null),C(n,s),C(n,a),C(n,o),r||(m=[b(i,"input",u),b(a,"click",(function(){E(t[9].bind(null,t[20]))&&t[9].bind(null,t[20]).apply(this,arguments)}))],r=!0)},p(e,l){var a,o;t=e,17&l&&w(i,t[0].timestamps[t[20]]),d===(d=p(t))&&g?g.p(t,l):(g.d(1),g=d(t),g&&(g.c(),g.m(n,s))),19&l&&q(n,"danger",re(null!=(a=t[0].timestamps[t[21]])?a:t[1],null!=(o=t[0].timestamps[t[20]])?o:t[1])<2e3)},d(e){e&&h(n),g.d(),r=!1,M(m)}}}function we(e){let t,n,i,l,s,a,o,r,m,u,p,d,x,y,j,k,_,D,O,q,E,W,F,K,Q,V,X,Y,Z,ee,te,ne,ie,le,ae,oe,re,me,ue,pe,de,ve,xe,we,be,je,ke,_e,Se,De,Oe,Te,qe,Ce,Ee,Me,Le,Ie,Ae,Pe=e[0].exertion+"",Re=e[2]?"Stop":"Start",Ne=e[3].elapsed+"",Be=e[3].timestamp+"",Je=[],ze=new Map;function He(t){e[12](t)}let Ue={id:"exercise",name:"exercise",options:e[5],required:!0};function We(t){e[13](t)}void 0!==e[0].exercise&&(Ue.value=e[0].exercise),s=new se({props:Ue}),S.push((()=>T(s,"value",He)));let Fe={id:"modality",name:"modality",options:e[6][e[0].exercise]};void 0!==e[0].modality&&(Fe.value=e[0].modality),p=new se({props:Fe}),S.push((()=>T(p,"value",We)));let Ge=e[7]("repetitions",e[0].repetitions),Ke=[];for(let c=0;c<Ge.length;c+=1)Ke[c]=he($e(e,Ge,c));let Qe=e[7]("workload",e[0].workload),Ve=[];for(let c=0;c<Qe.length;c+=1)Ve[c]=ge(fe(e,Qe,c));let Xe=e[4];const Ye=e=>`${e[20]}.${e[21]}`;for(let c=0;c<Xe.length;c+=1){let t=ce(e,Xe,c),n=Ye(t);ze.set(n,Je[c]=ye(n,t))}return{c(){var a;t=c("form"),n=c("fieldset"),i=c("label"),i.textContent="Exercise",l=v(),L(s.$$.fragment),o=v(),r=c("fieldset"),m=c("label"),m.textContent="modality",u=v(),L(p.$$.fragment),x=v(),y=c("fieldset"),j=c("label"),j.textContent="repetitions",k=v(),_=c("input"),D=v(),O=c("datalist");for(let e=0;e<Ke.length;e+=1)Ke[e].c();q=v(),E=c("fieldset"),W=c("label"),W.textContent="Workload",F=v(),K=c("input"),Q=v(),V=c("datalist");for(let e=0;e<Ve.length;e+=1)Ve[e].c();X=v(),Y=c("fieldset"),Z=c("label"),Z.textContent="Exertion",ee=v(),te=c("input"),ne=v(),ie=c("output"),le=I(Pe),ae=v(),oe=c("fieldset"),re=c("button"),me=I(Re),ue=I(" Timer"),pe=v(),de=c("details"),ve=c("summary"),xe=c("span"),we=I(Ne),be=I(" elapsed"),je=v(),ke=c("span"),_e=I(Be),Se=v(),De=c("ol");for(let e=0;e<Je.length;e+=1)Je[e].c();Te=v(),qe=c("input"),Ee=v(),Me=c("input"),f(i,"for","exercise"),f(m,"for","modality"),f(j,"for","repetitions"),f(_,"list","repetitions-options"),f(_,"id","repetitions"),f(_,"name","repetitions"),f(_,"type","number"),f(_,"min","0"),f(_,"max","9999"),f(_,"step","1"),_.required=!0,f(O,"id","repetitions-options"),f(W,"for","workload"),f(K,"id","workload"),f(K,"name","workload"),f(K,"type","number"),f(K,"min","0"),f(K,"max","9999"),f(K,"step","0.25"),f(V,"id","workload-options"),f(Z,"for","exertion"),f(te,"id","exertion"),f(te,"name","exertion"),f(te,"type","range"),f(te,"min","0"),f(te,"max","10"),f(te,"step","1"),f(re,"type","button"),De.reversed=!0,f(de,"title",Oe=e[3].aria),f(qe,"type","hidden"),f(qe,"id","id"),qe.value=Ce=null!=(a=e[0].id)?a:`id-${(new Date).getTime()}-${Math.random()}`,f(Me,"type","submit")},m(a,d){$(a,t,d),C(t,n),C(n,i),C(n,l),A(s,n,null),C(t,o),C(t,r),C(r,m),C(r,u),A(p,r,null),C(t,x),C(t,y),C(y,j),C(y,k),C(y,_),w(_,e[0].repetitions),C(y,D),C(y,O);for(let e=0;e<Ke.length;e+=1)Ke[e].m(O,null);C(t,q),C(t,E),C(E,W),C(E,F),C(E,K),w(K,e[0].workload),C(E,Q),C(E,V);for(let e=0;e<Ve.length;e+=1)Ve[e].m(V,null);C(t,X),C(t,Y),C(Y,Z),C(Y,ee),C(Y,te),w(te,e[0].exertion),C(Y,ne),C(Y,ie),C(ie,le),C(t,ae),C(t,oe),C(oe,re),C(re,me),C(re,ue),C(oe,pe),C(oe,de),C(de,ve),C(ve,xe),C(xe,we),C(xe,be),C(ve,je),C(ve,ke),C(ke,_e),C(de,Se),C(de,De);for(let e=0;e<Je.length;e+=1)Je[e].m(De,null);C(t,Te),C(t,qe),C(t,Ee),C(t,Me),Le=!0,Ie||(Ae=[b(_,"input",e[14]),b(K,"input",e[15]),b(te,"change",e[16]),b(te,"input",e[16]),b(re,"click",e[8]),b(t,"submit",P(e[11]))],Ie=!0)},p(e,[t]){var n;const i={};32&t&&(i.options=e[5]),!a&&1&t&&(a=!0,i.value=e[0].exercise,R((()=>a=!1))),s.$set(i);const l={};if(65&t&&(l.options=e[6][e[0].exercise]),!d&&1&t&&(d=!0,l.value=e[0].modality,R((()=>d=!1))),p.$set(l),1&t&&N(_.value)!==e[0].repetitions&&w(_,e[0].repetitions),129&t){let n;for(Ge=e[7]("repetitions",e[0].repetitions),n=0;n<Ge.length;n+=1){const i=$e(e,Ge,n);Ke[n]?Ke[n].p(i,t):(Ke[n]=he(i),Ke[n].c(),Ke[n].m(O,null))}for(;n<Ke.length;n+=1)Ke[n].d(1);Ke.length=Ge.length}if(1&t&&N(K.value)!==e[0].workload&&w(K,e[0].workload),129&t){let n;for(Qe=e[7]("workload",e[0].workload),n=0;n<Qe.length;n+=1){const i=fe(e,Qe,n);Ve[n]?Ve[n].p(i,t):(Ve[n]=ge(i),Ve[n].c(),Ve[n].m(V,null))}for(;n<Ve.length;n+=1)Ve[n].d(1);Ve.length=Qe.length}1&t&&w(te,e[0].exertion),(!Le||1&t)&&Pe!==(Pe=e[0].exertion+"")&&B(le,Pe),(!Le||4&t)&&Re!==(Re=e[2]?"Stop":"Start")&&B(me,Re),(!Le||8&t)&&Ne!==(Ne=e[3].elapsed+"")&&B(we,Ne),(!Le||8&t)&&Be!==(Be=e[3].timestamp+"")&&B(_e,Be),531&t&&(Xe=e[4],Je=J(Je,t,Ye,1,e,Xe,ze,De,G,ye,null,ce)),(!Le||8&t&&Oe!==(Oe=e[3].aria))&&f(de,"title",Oe),(!Le||1&t&&Ce!==(Ce=null!=(n=e[0].id)?n:`id-${(new Date).getTime()}-${Math.random()}`))&&(qe.value=Ce)},i(e){Le||(z(s.$$.fragment,e),z(p.$$.fragment,e),Le=!0)},o(e){H(s.$$.fragment,e),H(p.$$.fragment,e),Le=!1},d(e){e&&h(t),U(s),U(p),g(Ke,e),g(Ve,e);for(let t=0;t<Je.length;t+=1)Je[t].d();Ie=!1,M(Ae)}}}function be(e,t,n){let i,l,s,a,o,r;W(e,ue,(e=>n(5,a=e))),W(e,pe,(e=>n(6,o=e))),W(e,de,(e=>n(7,r=e)));let m,{set:u={exertion:0,timestamps:[]}}=t,p=null;return F((()=>clearInterval(m))),e.$$set=e=>{"set"in e&&n(0,u=e.set)},e.$$.update=()=>{1024&e.$$.dirty&&n(2,i=Boolean(m)),1&e.$$.dirty&&n(4,l=new Array(Math.ceil(u.timestamps.length/2)).fill(void 0).map(((e,t)=>[2*t,2*t+1])).reverse()),3&e.$$.dirty&&n(3,s=oe((u.timestamps.length%2==0?u.timestamps:[...u.timestamps,p]).map((e=>new Date(e)))))},[u,p,i,s,l,a,o,r,function(){i?(clearInterval(m),n(10,m=null)):n(10,m=setInterval((()=>n(1,p=ae())),100)),n(0,u.timestamps=[...u.timestamps,ae()],u)},function(e){n(0,u.timestamps=[...u.timestamps.slice(0,e),...u.timestamps.slice(e+2)],u),u.timestamps.length%2==0&&(clearInterval(m),n(10,m=null))},m,function(t){K.call(this,e,t)},function(t){e.$$.not_equal(u.exercise,t)&&(u.exercise=t,n(0,u))},function(t){e.$$.not_equal(u.modality,t)&&(u.modality=t,n(0,u))},function(){u.repetitions=N(this.value),n(0,u)},function(){u.workload=N(this.value),n(0,u)},function(){u.exertion=N(this.value),n(0,u)},function(e){u.timestamps[e]=this.value,n(0,u),n(4,l),n(0,u)},function(e){u.timestamps[e]=this.value,n(0,u),n(4,l),n(0,u)},function(){p=this.value,n(1,p)}]}class je extends m{constructor(e){super(),u(this,e,be,we,p,{set:0})}}function ke(e,t,n){const i=e.slice();return i[12]=t[n][0],i[13]=t[n][1],i[14]=t,i[15]=n,i}function _e(e){let t,n,i,l,s,a,o,r,m,u,p,d,g,x,y;function j(){e[8].call(n,e[12])}function k(){e[9].call(o,e[13])}return{c(){t=c("li"),n=c("input"),a=v(),o=c("input"),p=v(),d=c("button"),d.textContent="×",g=v(),n.required=!0,f(n,"type","datetime-local"),f(n,"id",i=`timestamps[${e[0].id}][${e[12]}]`),f(n,"name",l=`timestamps[${e[0].id}][${e[12]}]`),f(n,"step","1"),f(n,"min",s=e[12]-1 in e[0].timestamps?e[0].timestamps[e[12]-1]:null),f(o,"aria-label","interval start"),o.required=!0,f(o,"type","datetime-local"),f(o,"id",r=`timestamps[${e[0].id}][${e[13]}]`),f(o,"name",m=`timestamps[${e[0].id}][${e[13]}]`),f(o,"step","1"),f(o,"min",u=e[0].timestamps[e[12]]),f(d,"title","delete")},m(i,l){$(i,t,l),C(t,n),w(n,e[0].timestamps[e[12]]),C(t,a),C(t,o),w(o,e[0].timestamps[e[13]]),C(t,p),C(t,d),C(t,g),x||(y=[b(n,"input",j),b(o,"input",k),b(d,"click",(function(){E(e[5].bind(null,e[12]))&&e[5].bind(null,e[12]).apply(this,arguments)}))],x=!0)},p(t,a){e=t,5&a&&i!==(i=`timestamps[${e[0].id}][${e[12]}]`)&&f(n,"id",i),5&a&&l!==(l=`timestamps[${e[0].id}][${e[12]}]`)&&f(n,"name",l),5&a&&s!==(s=e[12]-1 in e[0].timestamps?e[0].timestamps[e[12]-1]:null)&&f(n,"min",s),5&a&&w(n,e[0].timestamps[e[12]]),5&a&&r!==(r=`timestamps[${e[0].id}][${e[13]}]`)&&f(o,"id",r),5&a&&m!==(m=`timestamps[${e[0].id}][${e[13]}]`)&&f(o,"name",m),5&a&&u!==(u=e[0].timestamps[e[12]])&&f(o,"min",u),5&a&&w(o,e[0].timestamps[e[13]])},d(e){e&&h(t),x=!1,M(y)}}}function Se(e){let t,n,i,l,s,a,o,r,m,u,p,x,w,_,S,D,O,T,q,E,L,A,P,R,N=e[0].exercise+"",J=e[3].timestamp+"",z=e[3].elapsed+"",H=e[2],U=[];for(let d=0;d<H.length;d+=1)U[d]=_e(ke(e,H,d));let W=[e[7]],F={};for(let c=0;c<W.length;c+=1)F=d(F,W[c]);return{c(){t=c("dialog"),n=c("header"),i=c("h1"),l=I(N),s=v(),a=c("div"),o=c("span"),r=I(J),m=v(),u=c("span"),p=I("("),x=I(z),w=I(" elapsed)"),S=v(),D=c("button"),D.textContent="Close Dialog",O=v(),T=c("hr"),q=v(),E=c("button"),E.textContent="Add Timestamps",L=v(),A=c("ol");for(let e=0;e<U.length;e+=1)U[e].c();f(i,"class","svelte-ntqg0u"),f(a,"title",_=e[3].aria),f(n,"class","svelte-ntqg0u"),A.reversed=!0,y(t,F)},m(d,c){$(d,t,c),C(t,n),C(n,i),C(i,l),C(n,s),C(n,a),C(a,o),C(o,r),C(a,m),C(a,u),C(u,p),C(u,x),C(u,w),C(n,S),C(n,D),C(t,O),C(t,T),C(t,q),C(t,E),C(t,L),C(t,A);for(let e=0;e<U.length;e+=1)U[e].m(A,null);e[10](t),P||(R=[b(D,"click",e[4]),b(E,"click",e[6])],P=!0)},p(e,[n]){if(1&n&&N!==(N=e[0].exercise+"")&&B(l,N),8&n&&J!==(J=e[3].timestamp+"")&&B(r,J),8&n&&z!==(z=e[3].elapsed+"")&&B(x,z),8&n&&_!==(_=e[3].aria)&&f(a,"title",_),37&n){let t;for(H=e[2],t=0;t<H.length;t+=1){const i=ke(e,H,t);U[t]?U[t].p(i,n):(U[t]=_e(i),U[t].c(),U[t].m(A,null))}for(;t<U.length;t+=1)U[t].d(1);U.length=H.length}y(t,F=j(W,[128&n&&e[7]]))},i:k,o:k,d(n){n&&h(t),g(U,n),e[10](null),P=!1,M(R)}}}function De(e,t,n){let i,l,{set:s}=t;const a=Q();let o;return e.$$set=e=>{n(7,t=d(d({},t),_(e))),"set"in e&&n(0,s=e.set)},e.$$.update=()=>{1&e.$$.dirty&&n(3,i=oe(s.timestamps.map((e=>new Date(e))))),1&e.$$.dirty&&n(2,l=new Array(Math.ceil(s.timestamps.length/2)).fill(void 0).map(((e,t)=>{let n=s.timestamps.length-1-2*t;return[n-1,n]})))},t=_(t),[s,o,l,i,function(){t.open&&a("close")},function(e){n(0,s.timestamps=[...s.timestamps.slice(0,e),...s.timestamps.slice(e+2)],s)},function(){n(0,s.timestamps=[...s.timestamps,ae(),ae()],s)},t,function(e){s.timestamps[e]=this.value,n(0,s),n(2,l),n(0,s)},function(e){s.timestamps[e]=this.value,n(0,s),n(2,l),n(0,s)},function(e){S[e?"unshift":"push"]((()=>{o=e,n(1,o)}))}]}class Oe extends m{constructor(e){super(),u(this,e,De,Se,p,{set:0})}}function Te(e,t,n){const i=e.slice();return i[17]=t[n],i[18]=t,i[19]=n,i}function qe(e,t){let n,i,l,s,a,o,r,m,u,p,d,g,x,y,j,k,_,D,O,q,P,J,W,F,G,K,Q,V,X,Y,Z,ee,te,ne,ie,le,ae,oe,re,me,ue,pe,de,ce,fe,$e,he,ge,ve,xe,ye,we,be,je,ke,_e,Se,De,Te,qe,Ce,Me,Le=(t[17].timestamps.length?new Date(t[17].timestamps[0]).toLocaleString():"")+"",Ie=t[2][t[17].id].timestamp+"",Ae=t[2][t[17].id].elapsed+"";function Pe(e){t[10](e,t[17])}let Re={type:"text",id:`exercise-${t[17].id}`,name:`exercise-${t[17].id}`,pattern:"[\\w\\(\\)\\- ]",options:t[3],required:!0};function Ne(e){t[11](e,t[17])}void 0!==t[17].exercise&&(Re.value=t[17].exercise),l=new se({props:Re}),S.push((()=>T(l,"value",Pe)));let Be={type:"text",id:`modality-${t[17].id}`,name:`modality-${t[17].id}`,pattern:"[\\w\\(\\)\\- ]",options:t[4][t[17].exercise]};function Je(){t[12].call(y,t[18],t[19])}function ze(){t[13].call(O,t[18],t[19])}function He(){t[14].call(F,t[18],t[19])}function Ue(){t[15].call(K,t[18],t[19])}function We(e){t[16](e,t[17],t[18],t[19])}void 0!==t[17].modality&&(Be.value=t[17].modality),r=new se({props:Be}),S.push((()=>T(r,"value",Ne)));let Fe={open:t[17]===t[1]};return void 0!==t[17]&&(Fe.set=t[17]),ye=new Oe({props:Fe}),S.push((()=>T(ye,"set",We))),ye.$on("close",t[6]),{key:e,first:null,c(){n=c("tr"),i=c("td"),L(l.$$.fragment),a=v(),o=c("td"),L(r.$$.fragment),u=v(),p=c("datalist"),g=v(),x=c("td"),y=c("input"),_=v(),D=c("td"),O=c("input"),J=v(),W=c("td"),F=c("input"),G=v(),K=c("input"),X=v(),Y=c("td"),Z=c("details"),ee=c("summary"),te=c("button"),ne=I("Edit"),ae=v(),oe=c("span"),re=I(Le),me=v(),ue=c("div"),pe=c("span"),de=I(Ie),ce=v(),fe=c("span"),$e=I("("),he=I(Ae),ge=I(")"),xe=v(),L(ye.$$.fragment),be=v(),je=c("td"),ke=c("button"),_e=I("×"),Te=v(),f(p,"id",d=`modality-suggestions-${t[17].id}`),f(y,"type","number"),f(y,"id",j=`repetitions-${t[17].id}`),f(y,"name",k=`repetitions-${t[17].id}`),f(y,"step","1"),f(y,"min","0"),f(y,"max","9999"),y.required=!0,f(O,"type","number"),f(O,"id",q=`workload-${t[17].id}`),f(O,"name",P=`workload-${t[17].id}`),f(O,"step","0.25"),f(O,"min","0"),f(O,"max","9999"),O.required=!0,f(F,"type","range"),f(F,"step","1"),f(F,"min","0"),f(F,"max","10"),F.required=!0,K.readOnly=!0,f(K,"id",Q=`exertion-${t[17].id}`),f(K,"name",V=`exertion-${t[17].id}`),f(K,"type","number"),f(K,"step","1"),f(K,"min","0"),f(K,"max","10"),K.required=!0,f(te,"id",ie=`timestamps-${t[17].id}`),f(te,"name",le=`timestamps-${t[17].id}`),f(Z,"title",ve=t[2][t[17].id].aria),f(ke,"id",Se=`delete-${t[17].id}`),f(ke,"name",De=`delete-${t[17].id}`),f(ke,"aria-label","delete"),this.first=n},m(e,s){$(e,n,s),C(n,i),A(l,i,null),C(n,a),C(n,o),A(r,o,null),C(o,u),C(o,p),C(n,g),C(n,x),C(x,y),w(y,t[17].repetitions),C(n,_),C(n,D),C(D,O),w(O,t[17].workload),C(n,J),C(n,W),C(W,F),w(F,t[17].exertion),C(W,G),C(W,K),w(K,t[17].exertion),C(n,X),C(n,Y),C(Y,Z),C(Z,ee),C(ee,te),C(te,ne),C(ee,ae),C(ee,oe),C(oe,re),C(Z,me),C(Z,ue),C(ue,pe),C(pe,de),C(ue,ce),C(ue,fe),C(fe,$e),C(fe,he),C(fe,ge),C(Y,xe),A(ye,Y,null),C(n,be),C(n,je),C(je,ke),C(ke,_e),C(n,Te),qe=!0,Ce||(Me=[b(y,"input",Je),b(O,"input",ze),b(F,"change",He),b(F,"input",He),b(K,"input",Ue),b(te,"click",(function(){E(t[5].bind(null,t[17]))&&t[5].bind(null,t[17]).apply(this,arguments)})),b(Z,"click",(function(){E(Ee.bind(null,t[17].timestamps))&&Ee.bind(null,t[17].timestamps).apply(this,arguments)})),b(ke,"click",(function(){E(t[7].bind(null,t[17]))&&t[7].bind(null,t[17]).apply(this,arguments)}))],Ce=!0)},p(e,n){t=e;const i={};1&n&&(i.id=`exercise-${t[17].id}`),1&n&&(i.name=`exercise-${t[17].id}`),8&n&&(i.options=t[3]),!s&&1&n&&(s=!0,i.value=t[17].exercise,R((()=>s=!1))),l.$set(i);const a={};1&n&&(a.id=`modality-${t[17].id}`),1&n&&(a.name=`modality-${t[17].id}`),17&n&&(a.options=t[4][t[17].exercise]),!m&&1&n&&(m=!0,a.value=t[17].modality,R((()=>m=!1))),r.$set(a),(!qe||1&n&&d!==(d=`modality-suggestions-${t[17].id}`))&&f(p,"id",d),(!qe||1&n&&j!==(j=`repetitions-${t[17].id}`))&&f(y,"id",j),(!qe||1&n&&k!==(k=`repetitions-${t[17].id}`))&&f(y,"name",k),1&n&&N(y.value)!==t[17].repetitions&&w(y,t[17].repetitions),(!qe||1&n&&q!==(q=`workload-${t[17].id}`))&&f(O,"id",q),(!qe||1&n&&P!==(P=`workload-${t[17].id}`))&&f(O,"name",P),1&n&&N(O.value)!==t[17].workload&&w(O,t[17].workload),1&n&&w(F,t[17].exertion),(!qe||1&n&&Q!==(Q=`exertion-${t[17].id}`))&&f(K,"id",Q),(!qe||1&n&&V!==(V=`exertion-${t[17].id}`))&&f(K,"name",V),1&n&&N(K.value)!==t[17].exertion&&w(K,t[17].exertion),(!qe||1&n&&ie!==(ie=`timestamps-${t[17].id}`))&&f(te,"id",ie),(!qe||1&n&&le!==(le=`timestamps-${t[17].id}`))&&f(te,"name",le),(!qe||1&n)&&Le!==(Le=(t[17].timestamps.length?new Date(t[17].timestamps[0]).toLocaleString():"")+"")&&B(re,Le),(!qe||5&n)&&Ie!==(Ie=t[2][t[17].id].timestamp+"")&&B(de,Ie),(!qe||5&n)&&Ae!==(Ae=t[2][t[17].id].elapsed+"")&&B(he,Ae),(!qe||5&n&&ve!==(ve=t[2][t[17].id].aria))&&f(Z,"title",ve);const o={};3&n&&(o.open=t[17]===t[1]),!we&&1&n&&(we=!0,o.set=t[17],R((()=>we=!1))),ye.$set(o),(!qe||1&n&&Se!==(Se=`delete-${t[17].id}`))&&f(ke,"id",Se),(!qe||1&n&&De!==(De=`delete-${t[17].id}`))&&f(ke,"name",De)},i(e){qe||(z(l.$$.fragment,e),z(r.$$.fragment,e),z(ye.$$.fragment,e),qe=!0)},o(e){H(l.$$.fragment,e),H(r.$$.fragment,e),H(ye.$$.fragment,e),qe=!1},d(e){e&&h(n),U(l),U(r),U(ye),Ce=!1,M(Me)}}}function Ce(e){let t,n,i,l,s,a,o,r,m,u,p,d,g=[],x=new Map,y=e[0];const w=e=>e[17].id;for(let c=0;c<y.length;c+=1){let t=Te(e,y,c),n=w(t);x.set(n,g[c]=qe(n,t))}return{c(){t=c("section"),n=c("button"),n.textContent="Add Set",i=v(),l=c("button"),l.textContent="Export as CSV",s=v(),a=c("table"),o=c("thead"),o.innerHTML='<tr><th class="svelte-5e8jhj"><label for="exercise">Exercise</label></th> \n        <th class="svelte-5e8jhj"><label for="modality">Modality</label></th> \n        <th class="svelte-5e8jhj"><label for="repetitions">Repetitions</label></th> \n        <th class="svelte-5e8jhj"><label for="workload">Workload</label></th> \n        <th class="svelte-5e8jhj"><label for="exertion">Exertion</label></th> \n        <th class="svelte-5e8jhj"><label for="timestamps">Timestamps</label></th> \n        <th class="svelte-5e8jhj"><label for="delete">Delete</label></th></tr>',r=v(),m=c("tbody");for(let e=0;e<g.length;e+=1)g[e].c();f(a,"class","svelte-5e8jhj")},m(c,f){$(c,t,f),C(t,n),C(t,i),C(t,l),C(t,s),C(t,a),C(a,o),C(a,r),C(a,m);for(let e=0;e<g.length;e+=1)g[e].m(m,null);u=!0,p||(d=[b(n,"click",e[8]),b(l,"click",e[9])],p=!0)},p(e,[t]){255&t&&(y=e[0],V(),g=J(g,t,w,1,e,y,x,m,Y,qe,null,Te),X())},i(e){if(!u){for(let e=0;e<y.length;e+=1)z(g[e]);u=!0}},o(e){for(let t=0;t<g.length;t+=1)H(g[t]);u=!1},d(e){e&&h(t);for(let t=0;t<g.length;t+=1)g[t].d();p=!1,M(d)}}}function Ee(e,t){0===e.length&&t.preventDefault()}function Me(e,t,n){let i,l,s,a;W(e,me,(e=>n(0,l=e))),W(e,ue,(e=>n(3,s=e))),W(e,pe,(e=>n(4,a=e)));let o=null;return e.$$.update=()=>{1&e.$$.dirty&&n(2,i=l.reduce(((e,t)=>Object.assign(Object.assign({},e),{[t.id]:oe(t.timestamps.map((e=>new Date(e))))})),{}))},[l,o,i,s,a,function(e){n(1,o=e)},function(){n(1,o=null)},function(e){Z(me,l=l.filter((t=>t!==e)),l)},function(){Z(me,l=[{id:String((new Date).getTime()+Math.random()),exercise:"",modality:"",repetitions:0,workload:0,exertion:0,timestamps:[]},...l],l)},function(){const e=[["id","exercise","modality","repetitions","workload","exertion","timestamps"],...l.map((e=>[e.id,e.exercise,e.modality,e.repetitions,e.workload,e.exertion,e.timestamps.join(",")]))].map((e=>e.map((e=>JSON.stringify(e))).join(","))).join("\n"),t=window.document.createElement("a");t.href=window.URL.createObjectURL(new Blob([e],{type:"text/csv"})),t.download="ex-app-export.csv",t.click()},function(t,n){e.$$.not_equal(n.exercise,t)&&(n.exercise=t,me.set(l))},function(t,n){e.$$.not_equal(n.modality,t)&&(n.modality=t,me.set(l))},function(e,t){e[t].repetitions=N(this.value),me.set(l)},function(e,t){e[t].workload=N(this.value),me.set(l)},function(e,t){e[t].exertion=N(this.value),me.set(l)},function(e,t){e[t].exertion=N(this.value),me.set(l)},function(e,t,n,i){n[i]=e,me.set(l)}]}class Le extends m{constructor(e){super(),u(this,e,Me,Ce,p,{})}}function Ie(e){let t,n,i,l,s,a,o;return n=new je({}),a=new Le({}),{c(){t=c("main"),L(n.$$.fragment),i=v(),l=c("hr"),s=v(),L(a.$$.fragment)},m(e,r){$(e,t,r),A(n,t,null),C(t,i),C(t,l),C(t,s),A(a,t,null),o=!0},p:k,i(e){o||(z(n.$$.fragment,e),z(a.$$.fragment,e),o=!0)},o(e){H(n.$$.fragment,e),H(a.$$.fragment,e),o=!1},d(e){e&&h(t),U(n),U(a)}}}new class extends m{constructor(e){super(),u(this,e,null,Ie,p,{})}}({target:document.getElementById("app")});
